{% extends "baseAdmin.html" %}

{% block title %}Detalle de Consulta{% endblock %}

{% block page_title %}
    <i class="fas fa-file-medical-alt"></i> Detalle de Consulta
{% endblock %}

{% block admin_content %}
<style>
    .detail-grid { display: grid; gap: 20px; }
    .detail-item {
        display: flex;
        align-items: flex-start;
        gap: 15px;
        padding: 15px;
        border-bottom: 1px solid var(--color-borde);
    }
    .detail-icon {
        font-size: 20px;
        color: var(--color-principal);
        margin-top: 2px;
    }
    .detail-content { flex: 1; }
    .detail-label {
        font-weight: bold;
        color: var(--color-texto);
        font-size: 16px;
        margin-bottom: 5px;
    }
    .detail-value {
        color: #64748b;
        font-size: 15px;
        line-height: 1.6;
        white-space: pre-wrap; /* Mantiene saltos de línea en las notas */
    }
</style>

<div class="detail-grid">
    <div class="detail-item">
        <div class="detail-icon"><i class="fas fa-calendar-day"></i></div>
        <div class="detail-content">
            <div class="detail-label">Fecha</div>
            <div class="detail-value">{{ consulta.fecha.strftime('%d de %B de %Y') }}</div>
        </div>
    </div>
    <div class="detail-item">
        <div class="detail-icon"><i class="fas fa-user-md"></i></div>
        <div class="detail-content">
            <div class="detail-label">Doctor</div>
            <div class="detail-value">{{ consulta.doctor.nombre if consulta.doctor else 'No asignado' }}</div>
        </div>
    </div>
    <div class="detail-item">
        <div class="detail-icon"><i class="fas fa-user-injured"></i></div>
        <div class="detail-content">
            <div class="detail-label">Paciente</div>
            <div class="detail-value">{{ consulta.historial_clinico.paciente.nombre }}</div>
        </div>
    </div>
    <div class="detail-item">
        <div class="detail-icon"><i class="fas fa-heartbeat"></i></div>
        <div class="detail-content">
            <div class="detail-label">Presión Arterial</div>
            <div class="detail-value">{{ consulta.presion_arterial or 'No registrada' }}</div>
        </div>
    </div>
    <div class="detail-item">
        <div class="detail-icon"><i class="fas fa-diagnoses"></i></div>
        <div class="detail-content">
            <div class="detail-label">Diagnóstico</div>
            <div class="detail-value">{{ consulta.diagnostico or 'No especificado' }}</div>
        </div>
    </div>
    {% if consulta.notas %}
    <div class="detail-item">
        <div class="detail-icon"><i class="fas fa-pen-alt"></i></div>
        <div class="detail-content">
            <div class="detail-label">Notas y Observaciones</div>
            <div class="detail-value">{{ consulta.notas }}</div>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}